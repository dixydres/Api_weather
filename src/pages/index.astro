---
import "../Layout/BasicLayout.astro";
import BasicLayout from "../Layout/BasicLayout.astro";
import Card from "../components/Card.astro";

interface User {
  name: { first: string; last: string };
  email: string;
  picture: { large: string };
  location: { city: string; country: string };
}

const responseData = await fetch("https://randomuser.me/api/?results=5");
const users: { results: User[] } = await responseData.json();
---

<BasicLayout title="My Page Title">
  <div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold text-center mb-8 text-gray-800">Notre Ã‰quipe</h1>
    
    <div class="flex flex-nowrap gap-6 justify-center">
      {users.results.map((user: User) => (
        <div class="flex-shrink-0">
          <Card 
            name={`${user.name.first} ${user.name.last}`}
            email={user.email}
            picture={user.picture.large}
            location={`${user.location.city}, ${user.location.country}`}
            nat={user.nat}
            gender={user.gender}
            age={user.dob.age}
            phone={user.phone}
          />
        </div>
      ))}
    </div>
  </div>
</BasicLayout>
